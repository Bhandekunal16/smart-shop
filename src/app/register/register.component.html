<div class="register-container">
  <div class="message-card">
    <p-messages
      [value]="msg"
      [closable]="true"
      [enableService]="false"
    ></p-messages>
  </div>

  <div>
    <p-button
      (onClick)="showDialog()"
      icon="pi pi-info-circle"
      severity="contrast"
      aria-label="Show information dialog"
    />

    <p-dialog
      header="Help"
      [modal]="true"
      [(visible)]="visible"
      [style]="{ width: '50rem' }"
      [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }"
      [maximizable]="true"
    >
      <p>
        The type of account you choose depends on the role you want to take on.
        We offer two roles: Merchant and Customer. Think of these as similar to
        a shopkeeper and a shopper. If you want to sell products, select the
        Merchant role. If you're here to make purchases, select the Customer
        role. Please choose your role accordingly to proceed with the
        appropriate experience.
      </p>
      <p>
        Please note that we have specific guidelines for photo uploads. Ensure
        that your photo is less than 2MB in size. This helps maintain quick
        loading times and efficient storage. If your image exceeds this limit,
        please compress it before uploading.
      </p>
    </p-dialog>
  </div>

  <form class="register-container-form" [formGroup]="myForm">
    <div class="register-container-form-top">
      <p-image src="../../assets/robot_614411.png" alt="Image" width="80" />
      <h1>Register</h1>
    </div>

    <div class="register-container-form-input">
      <label>First name </label>
      <div *ngIf="myForm.get('firstName')?.errors?.['pattern']" class="error">
        Enter valid first name
      </div>
      <input type="text" placeholder="First Name" formControlName="firstName" />

      <label>Last name </label>
      <div *ngIf="myForm.get('lastName')?.errors?.['pattern']" class="error">
        Enter valid last name
      </div>
      <input type="text" placeholder="Last Name" formControlName="lastName" />

      <label>Email id </label>
      <div *ngIf="myForm.get('gmail')?.errors?.['pattern']" class="error">
        Enter valid email
      </div>
      <input type="text" placeholder="Email" formControlName="gmail" />

      <label>Mobile No</label>
      <div *ngIf="myForm.get('mobileNo')?.errors?.['pattern']" class="error">
        Enter valid mobile number
      </div>
      <input type="text" placeholder="Mobile No" formControlName="mobileNo" />

      <label for="userTypeSelect">Select Type</label>
      <select id="userTypeSelect" formControlName="userType">
        <option *ngFor="let option of options" [value]="option">
          {{ option }}
        </option>
      </select>

      <label for="profileImage">Profile Image</label>
      <input
        id="profileImage"
        type="file"
        (change)="onImageSelected($event)"
        accept="image/*"
      />

      <label>Password </label>
      <div *ngIf="myForm.get('Password')?.errors?.['pattern']" class="error">
        Enter valid Password
      </div>
      <p-password
        placeholder="Password"
        formControlName="Password"
        [feedback]="false"
      />
    </div>

    <div class="register-container-form-button">
      <button
        type="button"
        pButton
        pRipple
        label="Submit"
        class="p-button-success"
        [disabled]="myForm.invalid"
        (click)="submitForm()"
      ></button>
      <button
        type="button"
        pButton
        pRipple
        label="Login"
        class="p-button-success"
        (click)="login()"
      ></button>
    </div>
  </form>
</div>
<div class="loader-container" *ngIf="!flag">
  <div class="loader"></div>
</div>
